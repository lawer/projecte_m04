<script id="houseTemplate" type="text/x-handlebars-template">
    <h1>{{:name}}</h1>
    <div class="row">
        <div class="col-12 col-md-3"><img class="card-img-top"
                                          src="{{:sigil}}"
                                          alt="House {{:name}} sigil"></div>
        <div class="col-12 col-md-9">
            <form>
                <div class="form-group row">
                    <label for="input-name" class="col-md-3 col-form-label">
                        Name
                    </label>
                    <input type="text" readonly="yes" class="form-control col-md-9" id="input-name"
                           value="{{:name}}"></div>
                <div class="form-group row">
                    <label for="input-word"
                           class="col-sm-3 col-form-label">Word</label>
                    <textarea type="text"
                              readonly="yes"
                              class="form-control col-md-9"
                              id="input-word"
                              rows="2">{{:word}}</textarea>
                </div>
                <div class="form-group row">
                    <label for="region-1" class="col-sm-3 col-form-label">
                        Region 1
                    </label>
                    <input type="text" readonly="yes" class="form-control col-md-9" id="region-1"
                           value="The North">
                </div>
                <div class="form-group row">
                    <label for="input-allegiances"
                           class="col-sm-3 col-form-label">Allegiances
                    </label>
                    <textarea
                            type="text" readonly="yes" class="form-control col-md-9" id="input-allegiances" rows="5">{{:allegiances}}</textarea>
                </div>
                <div class="form-group row">
                    <label for="input-quote"
                           class="col-sm-3 col-form-label">
                        Quote
                    </label>
                    <textarea type="text"
                              readonly="yes"
                              class="form-control col-md-9"
                              id="input-quote"
                              rows="8">
                        {{:quote}}
                    </textarea></div>
            </form>
        </div>
    </div>


</script>

<div id="target">
</div>


<script>
  //|
  //| view handler
  //|
  //| Note the name below shall match id of the section
  //|
  app.page("house", function () {

    // present the view - load data and show:
    return function (param) {
      $.getJSON("data.json")
        .then(function (data) {
          var template = $.templates("#houseTemplate");

          for (var house of data.houses) {
            if (house.id === param) {
              var rendered = template.render(house);
              $("#target").html(rendered);
              break;
            }
          }

        })
    }
  });
</script>
